jQuery(document).ready(function(i){i(document.body).on("click",".tophive-wc-modal-close, .tophive-wc-modal-overlay",function(o){o.preventDefault(),i(this).closest(".tophive-wc-modal").removeClass("show").addClass("hide"),i(document).trigger("tophive_quickview_closed")}),i(window).on("keyup",function(o){27===o.which&&(i(".tophive-wc-modal").removeClass("show").addClass("hide"),i(document).trigger("tophive_quickview_closed"))}),i(document.body).on("click",".tophive-wc-quick-view, .quick-view-btn",function(o){o.preventDefault();var c=i(this),t=c.attr("data-id")||"";t&&!c.hasClass("loading")&&(i("#tophive-wc-modal-product-"+t).length?(i("#tophive-wc-modal-product-"+t).removeClass("hide").addClass("show"),i(window).resize(),i(".woocommerce-product-gallery__wrapper").css("opacity",1),i(document).trigger("tophive_quickview_product_reopen"),setTimeout(function(){i(window).resize()},200)):(c.addClass("loading"),i.ajax({url:woocommerce_params.ajax_url,type:"get",data:{action:"tophive/wc/quick-view",product_id:t},success:function(o){c.removeClass("loading"),wc_single_product_params=o.params;var a=i('<div id="tophive-wc-modal-product-'+t+'" class="tophive-wc-modal hide"><div class="tophive-wc-modal-overlay"></div><div class="tophive-wc-modal-cont  woocommerce woocommerce-page single single-product"><div class="tophive-wc-modal-inner"><a href="#" class="remove2x tophive-wc-modal-close">Ã—</a> <div class="tophive-container"><div class="tophive-grid"><div class="tophive-wc-modal-col tophive-col-12">'+o.content+"</div></div></div></div></div></div>");i("body").append(a),i.fn.wc_product_gallery&&i(".woocommerce-product-gallery",a).each(function(){i(this).wc_product_gallery(),i(".woocommerce-product-gallery__wrapper").css("opacity",1)}),"variable"===o.type&&(wc_add_to_cart_variation_params=o.variation_params,"undefined"!=typeof wc_add_to_cart_variation_params&&i(".variations_form",a).each(function(){i(this).wc_variation_form()})),i(document.body).trigger("updated_wc_div"),i(document).trigger("tophive_quickview_product_init",[a]),setTimeout(function(){a.removeClass("hide").addClass("show"),i(window).resize(),setTimeout(function(){i(window).resize()},200)},100)}})))}),i.fn._add_cart_serializeObject=function(){var o={},a=this.serializeArray();return i.each(a,function(){o[this.name]?(o[this.name].push||(o[this.name]=[o[this.name]]),o[this.name].push(this.value||"")):o[this.name]=this.value||""}),o},i(document.body).on("click",".tophive-wc-modal .single_add_to_cart_button",function(o){o.preventDefault();var a=i(this);if(!a.hasClass("disabled")&&!a.is(":disabled")){var c=a.closest("form")._add_cart_serializeObject();a.removeClass("added"),a.addClass("loading"),void 0===c.product_id&&void 0!==c["add-to-cart"]?c.product_id=c["add-to-cart"]:void 0===c["add-to-cart"]&&(c.product_id=a.val()),i(document.body).trigger("adding_to_cart",[a,c]),i.post(wc_add_to_cart_params.wc_ajax_url.toString().replace("%%endpoint%%","add_to_cart"),c,function(o){console.log(o),o&&(o.error&&o.product_url?window.location=o.product_url:"yes"!==wc_add_to_cart_params.cart_redirect_after_add?i(document.body).trigger("added_to_cart",[o.fragments,o.cart_hash,a]):window.location=wc_add_to_cart_params.cart_url)})}})});