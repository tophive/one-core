jQuery(document).ready(function(d){d(".wc-layout-columns").each(function(){var t=d(".entry-summary-inner",d(this));t.height()<=d(this).innerHeight()-100&&t.stick_in_parent({spacer:!1})}),d(document.body).on("wc_toggle_done",function(){d(document.body).trigger("sticky_kit:recalc")});var t=function(){d(".media-only.product .wc-product-top-media-inner").each(function(){var t=d(this),i=t.css("height"),e=d(".woocommerce-product-gallery").css("height"),a=e<i?i:e;t.css("max-height",a).height("auto")})};d(window).resize(function(){d(document.body).trigger("sticky_kit:recalc"),setTimeout(function(){t()},200)}),d(document).on("after_auto_render_css",function(t,i,e){d(window).resize()}),d(window).load(function(){t()}),d.fn.tophive_wc_variations_image_update=function(t){var i,e,a,r,o=this,_=d('input[name="product_id"]',o).val(),c=!1;d("#product-top-"+_).length?(i=d("#product-top-"+_),(e=i.find(".woocommerce-product-gallery__wrapper")).hasClass("slick-slider")?(c=!0,r=(a=i.find(".wc-nav-thumbs .slick-list")).find(".slick-slide:eq(0) img")):(e=i.find(".images"),r=(a=i.find(".flex-control-nav")).find("li:eq(0) img"))):(i=o.closest(".product"),e=i.find(".images"),r=(a=i.find(".flex-control-nav")).find("li:eq(0) img"));var n=e.find(".woocommerce-product-gallery__image, .woocommerce-product-gallery__image--placeholder").eq(0),s=n.find(".wp-post-image"),l=n.find("a").eq(0);if(t&&t.image&&t.image.src&&1<t.image.src.length){var g;if(0<a.find('li img[data-o_src="'+t.image.gallery_thumbnail_src+'"]').length&&o.tophive_wc_variations_image_reset(),c){if(0<(g=a.find('.slick-slide div[data-thumb="'+t.image.gallery_thumbnail_src+'"]')).length){var m=g.closest(".slick-slide").attr("data-slick-index")||0;return i.find(".wc-nav-thumbs").length?i.find(".wc-nav-thumbs").slick("slickGoTo",m):e.slick("slickGoTo",m),o.attr("current-image",t.image_id),void window.setTimeout(function(){d(window).trigger("resize"),e.trigger("woocommerce_gallery_init_zoom")},20)}}else if(0<(g=a.find('li img[src="'+t.image.gallery_thumbnail_src+'"]')).length)return g.trigger("click"),o.attr("current-image",t.image_id),void window.setTimeout(function(){d(window).trigger("resize"),e.trigger("woocommerce_gallery_init_zoom")},20);s.wc_set_variation_attr("src",t.image.src),s.wc_set_variation_attr("height",t.image.src_h),s.wc_set_variation_attr("width",t.image.src_w),s.wc_set_variation_attr("srcset",t.image.srcset),s.wc_set_variation_attr("sizes",t.image.sizes),s.wc_set_variation_attr("title",t.image.title),s.wc_set_variation_attr("data-caption",t.image.caption),s.wc_set_variation_attr("alt",t.image.alt),s.wc_set_variation_attr("data-src",t.image.full_src),s.wc_set_variation_attr("data-large_image",t.image.full_src),s.wc_set_variation_attr("data-large_image_width",t.image.full_src_w),s.wc_set_variation_attr("data-large_image_height",t.image.full_src_h),n.wc_set_variation_attr("data-thumb",t.image.src),r.wc_set_variation_attr("src",t.image.gallery_thumbnail_src),l.wc_set_variation_attr("href",t.image.full_src)}else o.tophive_wc_variations_image_reset();window.setTimeout(function(){d(window).trigger("resize"),o.wc_maybe_trigger_slide_position_reset(t),e.trigger("woocommerce_gallery_init_zoom")},20)},d.fn.tophive_wc_variations_image_reset=function(){var t=d('input[name="product_id"]',this).val(),i=d("#product-top-"+t).length?d("#product-top-"+t):this.closest(".product"),e=i.find(".images"),a=i.find(".flex-control-nav").find("li:eq(0) img"),r=e.find(".woocommerce-product-gallery__image, .woocommerce-product-gallery__image--placeholder").eq(0),o=r.find(".wp-post-image"),_=r.find("a").eq(0);o.wc_reset_variation_attr("src"),o.wc_reset_variation_attr("width"),o.wc_reset_variation_attr("height"),o.wc_reset_variation_attr("srcset"),o.wc_reset_variation_attr("sizes"),o.wc_reset_variation_attr("title"),o.wc_reset_variation_attr("data-caption"),o.wc_reset_variation_attr("alt"),o.wc_reset_variation_attr("data-src"),o.wc_reset_variation_attr("data-large_image"),o.wc_reset_variation_attr("data-large_image_width"),o.wc_reset_variation_attr("data-large_image_height"),r.wc_reset_variation_attr("data-thumb"),a.wc_reset_variation_attr("src"),_.wc_reset_variation_attr("href")},d("form.variations_form").on("found_variation",function(t,i){d(this).tophive_wc_variations_image_update(i)});var i=function(t,i){if(t.preventDefault(),"undefined"!=typeof wc_single_product_params){var e=d(".pswp")[0],a=(o=d(".woocommerce-product-gallery__wrapper .wc-gallery-item"),items=[],0<o.length&&o.each(function(t,i){var e=d(i).find("img");if(e.length){var a={src:e.attr("data-large_image"),w:e.attr("data-large_image_width"),h:e.attr("data-large_image_height"),title:e.attr("data-caption")?e.attr("data-caption"):e.attr("title")};items.push(a)}}),items);void 0===i&&(i=0);var r=d.extend({index:i},wc_single_product_params.photoswipe_options);new PhotoSwipe(e,PhotoSwipeUI_Default,a,r).init()}var o};void 0===OneCoreCustomizer_JS.wc_product_gallery&&"undefined"!=typeof PhotoSwipe&&d(".woocommerce-product-gallery__wrapper").on("click",".wc-gallery-item",function(t){i(t,d(this).index())})});