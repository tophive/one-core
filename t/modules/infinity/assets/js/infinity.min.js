!function(m,i,_){"use strict";m.fn.tophiveInfinityLoad=function(t){var o=function(t){if(m(this).length){var l=m.extend({type:"auto",nextSelector:!1,navSelector:!1,itemSelector:!1,parentSelector:!1,contentSelector:!1,maxPage:!1,loader:!1,button:!1,is_shop:!1,loadingText:"",loadMoreText:""},t),c=!1,f=!1,u=m(l.nextSelector).attr("href"),y=l.parentSelector?m(l.parentSelector):m(_),d=!1;m(l.nextSelector,y).length&&m(l.navSelector,y).length&&m(l.itemSelector,y).length&&m(l.contentSelector,y).length?(m(l.navSelector,y).hide(),"click"===l.type&&l.button&&m(l.navSelector,y).after('<div class="tophive-infinity-loader">'+l.button+"</div>")):(m(".tophive-infinity-loader",y).remove(),f=!0);var e=function(){var t,s,r=m(l.contentSelector,y).find(l.itemSelector).last();l.loader&&"click"!==l.type?l.loader&&m(l.navSelector,y).after('<div class="tophive-infinity-loader">'+l.loader+"</div>"):m(".tophive-infinity-loader .tophive-infinity-button",y).addClass("loading"),m(".tophive-infinity-loader .tophive-infinity-button",y).html(l.loadingText),c=!0,t=u,i.history.pushState&&history.pushState(null,null,t),u=(u=decodeURIComponent(u)).replace(/^(?:\/\/|[^\/]+)*\//,"/"),i.Shuffle&&(m(l.contentSelector).hasClass("layout--blog_masonry")?s=i.posts_shuffleInstance||!1:m(l.contentSelector).hasClass("layout--product_masonry")&&(s=i.products_shuffleInstance||!1),s&&(d=!0)),m.ajax({url:u,dataType:"html",success:function(t){var o,e=m(t),i=(o=l.parentSelector&&m(l.parentSelector,e).length?m(l.parentSelector,e):e).find(l.itemSelector),n=o.find(l.nextSelector),a=u;n.length?u=n.attr("href"):(f=!0,"click"===l.type&&l.button&&m(".tophive-infinity-loader",y).remove(),m(_).trigger("tophive_infinity_scroll_finished")),d?i.each(function(t){var o=this;setTimeout(function(){s.element.appendChild(o),s.add([o])},150*t)}):r.after(i),"click"!==l.type?m(".tophive-infinity-loader",y).remove():m(".tophive-infinity-loader .tophive-infinity-button",y).removeClass("loading").html(l.loadMoreText),m(_).trigger("tophive_infinity_adding_item",[i,a]),i.addClass("tophive-infinity-animated"),setTimeout(function(){c=!1,i.removeClass("tophive-infinity-animated")},1e3)}})};"click"===l.type?y.on("click",".tophive-infinity-button",function(t){t.preventDefault(),e()}):(m(i).on("scroll touchstart",function(){m(this).trigger("tophive_infinity_start")}),m(i).on("tophive_infinity_start",function(){var t=m(this),o=m(l.itemSelector,y).last();void 0!==o&&!c&&!f&&t.scrollTop()+t.height()>=o.offset().top+o.height()&&e()}))}};return this.each(function(){return new o(t)})}}(jQuery,window,document),jQuery(document).ready(function(e){var i={},n={};OneCoreCustomizer_JS.infinity_load.products.enable&&(n={type:OneCoreCustomizer_JS.infinity_load.products.load_type,nextSelector:".next",navSelector:".navigation",itemSelector:"li.product",parentSelector:".woocommerce-listing",contentSelector:".products",loadingText:OneCoreCustomizer_JS.infinity_load.products.loading_text,loadMoreText:OneCoreCustomizer_JS.infinity_load.products.load_more_text,loader:'<span class="tophive-infinity-button loading">'+OneCoreCustomizer_JS.infinity_load.products.loading_text+"</span>",button:'<span class="tophive-infinity-button button">'+OneCoreCustomizer_JS.infinity_load.products.load_more_text+"</span>",is_shop:!1},e(".woocommerce-listing").tophiveInfinityLoad(n)),OneCoreCustomizer_JS.infinity_load.posts.enable&&(i={type:OneCoreCustomizer_JS.infinity_load.posts.load_type,nextSelector:".next",navSelector:".navigation",itemSelector:"article.entry",parentSelector:".posts-layout-wrapper",contentSelector:".posts-layout",loadingText:OneCoreCustomizer_JS.infinity_load.posts.loading_text,loadMoreText:OneCoreCustomizer_JS.infinity_load.posts.load_more_text,loader:'<span class="tophive-infinity-button loading">'+OneCoreCustomizer_JS.infinity_load.posts.loading_text+"</span>",button:'<span class="tophive-infinity-button button">'+OneCoreCustomizer_JS.infinity_load.posts.load_more_text+"</span>",is_shop:!1},e(".posts-layout-wrapper .posts-layout").tophiveInfinityLoad(i)),e(document).on("selective-refresh-content-rendered",function(t,o){try{OneCoreCustomizer_JS.infinity_load.posts.enable&&("tophive_blog_posts"===o&&e(".posts-layout-wrapper .posts-layout").tophiveInfinityLoad(i),"woocommerce_content"===o&&e(".woocommerce-listing").tophiveInfinityLoad(n))}catch(t){}})});